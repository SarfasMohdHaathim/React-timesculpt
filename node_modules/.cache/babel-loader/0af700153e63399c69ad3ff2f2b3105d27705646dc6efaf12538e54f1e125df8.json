{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import useAxios from\"../utils/useAxios\";import{jwtDecode}from'jwt-decode';import{Link}from'react-router-dom';import AuthContext from'../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[response,setResponse]=useState(\"\");const api=useAxios();const token=localStorage.getItem(\"authTokens\");const{logoutUser}=useContext(AuthContext);const decode=jwtDecode(token);// console.log(decode)\nlet user_id=decode.user_id;let username=decode.username;let email=decode.email;let full_name=decode.full_name;let bio=decode.bio;useEffect(()=>{const fetchData=async()=>{try{const response=await api.get(\"/test/\");setResponse(response.data.response);}catch(error){console.log(error);setResponse(\"Something Went Wrong\");}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome, \",username]}),/*#__PURE__*/_jsx(\"span\",{children:\"Your Cridentials are as follows\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Username: \",username]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"UserID: \",user_id]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Full Name: \",full_name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Email: \",email]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:response}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{onClick:logoutUser,children:\"Logout\"})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useContext","useEffect","useAxios","jwtDecode","Link","AuthContext","jsx","_jsx","jsxs","_jsxs","Dashboard","response","setResponse","api","token","localStorage","getItem","logoutUser","decode","user_id","username","email","full_name","bio","fetchData","get","data","error","console","log","className","children","to","onClick"],"sources":["D:/REACT/react-django-jwt/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, {useState, useContext, useEffect} from 'react'\r\nimport useAxios from \"../utils/useAxios\"\r\nimport { jwtDecode } from 'jwt-decode'\r\nimport { Link } from 'react-router-dom'\r\nimport AuthContext from '../context/AuthContext'\r\n\r\n\r\nconst Dashboard = () => {\r\n  const [response, setResponse] = useState(\"\")\r\n  const api = useAxios();\r\n  const token = localStorage.getItem(\"authTokens\")\r\n  const {logoutUser} = useContext(AuthContext)\r\n\r\n  \r\n  const decode = jwtDecode(token)\r\n  // console.log(decode)\r\n  let user_id = decode.user_id\r\n  let username = decode.username\r\n  let email = decode.email\r\n  let full_name = decode.full_name\r\n  let bio = decode.bio\r\n  \r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await api.get(\"/test/\")\r\n        setResponse(response.data.response)\r\n\r\n      } catch (error) {\r\n        console.log(error)\r\n        setResponse(\"Something Went Wrong\")\r\n      }\r\n    }\r\n    \r\n    fetchData()\r\n    \r\n  }, [])\r\n  \r\n\r\n  return (\r\n    <div className='dashboard'>\r\n      <h1>Dashboard</h1>\r\n      <p>Welcome, {username}</p>\r\n      <span>Your Cridentials are as follows</span>\r\n      <br />\r\n      <span>Username: {username}</span>\r\n      <br />\r\n      <span>UserID: {user_id}</span>\r\n      <br />\r\n      <span>Full Name: {full_name}</span>\r\n      <br />\r\n      <span>Email: {email}</span>\r\n      <br /><br />\r\n      <span>{response}</span>\r\n      <br /><br />\r\n      <Link to=\"/\">Home</Link>\r\n      <br />\r\n      <Link onClick={logoutUser}>Logout</Link>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAO,OAAO,CAC5D,MAAO,CAAAC,QAAQ,KAAM,mBAAmB,CACxC,OAASC,SAAS,KAAQ,YAAY,CACtC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,WAAW,KAAM,wBAAwB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGhD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAc,GAAG,CAAGX,QAAQ,CAAC,CAAC,CACtB,KAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAChD,KAAM,CAACC,UAAU,CAAC,CAAGjB,UAAU,CAACK,WAAW,CAAC,CAG5C,KAAM,CAAAa,MAAM,CAAGf,SAAS,CAACW,KAAK,CAAC,CAC/B;AACA,GAAI,CAAAK,OAAO,CAAGD,MAAM,CAACC,OAAO,CAC5B,GAAI,CAAAC,QAAQ,CAAGF,MAAM,CAACE,QAAQ,CAC9B,GAAI,CAAAC,KAAK,CAAGH,MAAM,CAACG,KAAK,CACxB,GAAI,CAAAC,SAAS,CAAGJ,MAAM,CAACI,SAAS,CAChC,GAAI,CAAAC,GAAG,CAAGL,MAAM,CAACK,GAAG,CAGpBtB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAb,QAAQ,CAAG,KAAM,CAAAE,GAAG,CAACY,GAAG,CAAC,QAAQ,CAAC,CACxCb,WAAW,CAACD,QAAQ,CAACe,IAAI,CAACf,QAAQ,CAAC,CAErC,CAAE,MAAOgB,KAAK,CAAE,CACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAClBf,WAAW,CAAC,sBAAsB,CAAC,CACrC,CACF,CAAC,CAEDY,SAAS,CAAC,CAAC,CAEb,CAAC,CAAE,EAAE,CAAC,CAGN,mBACEf,KAAA,QAAKqB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxB,IAAA,OAAAwB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBtB,KAAA,MAAAsB,QAAA,EAAG,WAAS,CAACX,QAAQ,EAAI,CAAC,cAC1Bb,IAAA,SAAAwB,QAAA,CAAM,iCAA+B,CAAM,CAAC,cAC5CxB,IAAA,QAAK,CAAC,cACNE,KAAA,SAAAsB,QAAA,EAAM,YAAU,CAACX,QAAQ,EAAO,CAAC,cACjCb,IAAA,QAAK,CAAC,cACNE,KAAA,SAAAsB,QAAA,EAAM,UAAQ,CAACZ,OAAO,EAAO,CAAC,cAC9BZ,IAAA,QAAK,CAAC,cACNE,KAAA,SAAAsB,QAAA,EAAM,aAAW,CAACT,SAAS,EAAO,CAAC,cACnCf,IAAA,QAAK,CAAC,cACNE,KAAA,SAAAsB,QAAA,EAAM,SAAO,CAACV,KAAK,EAAO,CAAC,cAC3Bd,IAAA,QAAK,CAAC,cAAAA,IAAA,QAAK,CAAC,cACZA,IAAA,SAAAwB,QAAA,CAAOpB,QAAQ,CAAO,CAAC,cACvBJ,IAAA,QAAK,CAAC,cAAAA,IAAA,QAAK,CAAC,cACZA,IAAA,CAACH,IAAI,EAAC4B,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cACxBxB,IAAA,QAAK,CAAC,cACNA,IAAA,CAACH,IAAI,EAAC6B,OAAO,CAAEhB,UAAW,CAAAc,QAAA,CAAC,QAAM,CAAM,CAAC,EAErC,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}