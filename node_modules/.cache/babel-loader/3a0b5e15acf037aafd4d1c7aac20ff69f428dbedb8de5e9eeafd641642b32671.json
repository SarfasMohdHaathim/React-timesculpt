{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ViewOrders=()=>{const[orders,setOrders]=useState([]);useEffect(()=>{fetchOrders();},[]);const fetchOrders=async()=>{try{const response=await fetch('https://timesculpt.pythonanywhere.com/dashboard/orders/');if(!response.ok){throw new Error('Failed to fetch orders');}const data=await response.json();setOrders(data);}catch(error){console.error('Error fetching orders:',error);}};console.log('Orders:',orders);return/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"page-title-box d-sm-flex align-items-center justify-content-between\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"mb-sm-0 font-size-18\",children:\"Orders\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"search-box me-2 mb-2 d-inline-block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search...\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-search-alt search-icon\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle table-nowrap table-check\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"align-middle\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-middle\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-middle\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-middle\",children:\"Ordered Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-middle\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-middle\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-middle\",children:\"Address\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"javascript: void(0);\",className:\"text-body fw-bold\",children:[\"#\",order.payment.razorpay_order_id]})}),/*#__PURE__*/_jsx(\"td\",{children:order.user.username}),/*#__PURE__*/_jsx(\"td\",{children:order.product.watch_name}),/*#__PURE__*/_jsx(\"td\",{children:order.ordered_date}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.payment.amount]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-pill badge-soft-\".concat(order.payment.paid?'success':'danger',\" font-size-12\"),children:order.payment.paid?'Paid':'Unpaid'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:order.user.address?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:order.user.address.country}),/*#__PURE__*/_jsx(\"p\",{children:order.user.address.city}),/*#__PURE__*/_jsx(\"p\",{children:order.user.address.street_address}),/*#__PURE__*/_jsx(\"p\",{children:order.user.address.zipcode})]}):/*#__PURE__*/_jsx(\"p\",{children:\"N/A\"})})})]},order.id))})]})}),/*#__PURE__*/_jsx(\"ul\",{className:\"pagination pagination-rounded justify-content-end mb-2\"})]})})})})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"script\",{children:\"document.write(new Date().getFullYear())\"}),\" \\xA9 React Dashboard.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm-end d-none d-sm-block\",children:\"Design & Develop by Sarfas\"})})]})})})]});};export default ViewOrders;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","ViewOrders","orders","setOrders","fetchOrders","response","fetch","ok","Error","data","json","error","console","log","className","children","type","placeholder","map","order","href","payment","razorpay_order_id","user","username","product","watch_name","ordered_date","amount","concat","paid","address","country","city","street_address","zipcode","id"],"sources":["D:/REACT/react-django-jwt/frontend/src/datapage/ViewOrders.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nconst ViewOrders = () => {\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchOrders();\r\n    }, []);\r\n\r\n    const fetchOrders = async () => {\r\n        try {\r\n            const response = await fetch('https://timesculpt.pythonanywhere.com/dashboard/orders/'); \r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch orders');\r\n            }\r\n            const data = await response.json();\r\n            setOrders(data);\r\n        } catch (error) {\r\n            console.error('Error fetching orders:', error);\r\n        }\r\n    };\r\n    console.log('Orders:', orders);\r\n    return (\r\n        <div className=\"main-content\">\r\n\r\n        <div className=\"page-content\">\r\n            <div className=\"container-fluid\">\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"page-title-box d-sm-flex align-items-center justify-content-between\">\r\n                            <h4 className=\"mb-sm-0 font-size-18\">Orders</h4>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n            <div className=\"col-12\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        {/* Header Section */}\r\n                        <div className=\"row mb-2\">\r\n                            {/* Search Box */}\r\n                            <div className=\"col-sm-4\">\r\n                                <div className=\"search-box me-2 mb-2 d-inline-block\">\r\n                                    <div className=\"position-relative\">\r\n                                        <input type=\"text\" className=\"form-control\" placeholder=\"Search...\" />\r\n                                        <i className=\"bx bx-search-alt search-icon\"></i>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Table Section */}\r\n                        <div className=\"table-responsive\">\r\n                            <table className=\"table align-middle table-nowrap table-check\">\r\n                                <thead className=\"table-light\">\r\n                                    <tr>\r\n                                    <th className=\"align-middle\">Order ID</th>\r\n                                    <th className=\"align-middle\">User</th>\r\n                                    <th className=\"align-middle\">Product</th>\r\n                                    <th className=\"align-middle\">Ordered Date</th>\r\n                                    <th className=\"align-middle\">Amount</th>\r\n                                    <th className=\"align-middle\">Status</th>\r\n                                    <th className=\"align-middle\">Address</th>\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>{orders.map(order => (\r\n                                <tr key={order.id}>\r\n                                    \r\n                                    <td><a href=\"javascript: void(0);\" className=\"text-body fw-bold\">#{order.payment.razorpay_order_id}</a></td>\r\n                                    <td>{order.user.username}</td>\r\n                                    <td>{order.product.watch_name}</td>\r\n                                    <td>{order.ordered_date}</td>\r\n                                    <td>${order.payment.amount}</td>\r\n                                    <td>\r\n                                        <span className={`badge badge-pill badge-soft-${order.payment.paid ? 'success' : 'danger'} font-size-12`}>\r\n                                            {order.payment.paid ? 'Paid' : 'Unpaid'}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td>\r\n                                        <p>{order.user.address ? (\r\n                                    <div>\r\n                                        <p>{order.user.address.country}</p>\r\n                                        <p>{order.user.address.city}</p>\r\n                                        <p>{order.user.address.street_address}</p>\r\n                                        <p>{order.user.address.zipcode}</p>\r\n                                    </div>\r\n                                ) : (\r\n                                    <p>N/A</p>\r\n                                )}\r\n\r\n                                        </p>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                        {/* Pagination Section */}\r\n                        <ul className=\"pagination pagination-rounded justify-content-end mb-2\">\r\n                            {/* Pagination Items */}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div> \r\n    </div>\r\n\r\n    \r\n    <footer className=\"footer\">\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-6\">\r\n                    <script>document.write(new Date().getFullYear())</script> © React Dashboard.\r\n                </div>\r\n                <div className=\"col-sm-6\">\r\n                    <div className=\"text-sm-end d-none d-sm-block\">\r\n                        Design & Develop by Sarfas\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n</div>\r\n\r\n\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default ViewOrders;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}