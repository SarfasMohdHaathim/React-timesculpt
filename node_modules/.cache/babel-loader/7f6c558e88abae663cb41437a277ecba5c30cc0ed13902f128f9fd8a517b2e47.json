{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AddWatchImage=()=>{const{id}=useParams();const[thumbnail,setThumbnail]=useState(null);const handleFileChange=event=>{setThumbnail(event.target.files[0]);};const navigate=useNavigate();const swal=require('sweetalert2');const handleSubmit=event=>{event.preventDefault();const formData=new FormData();formData.append('watch_name',id);formData.append('watch_image',thumbnail);fetch('https://timesculpt.pythonanywhere.com/dashboard/watch/image/create/',{method:'POST',body:formData}).then(response=>{navigate(\"/watch/detail/\".concat(id));swal.fire({title:\"Watch Image Added\",icon:\"success\",toast:true,timer:6000,position:'top-right',timerProgressBar:true,showConfirmButton:false});}).catch(error=>{// Handle error\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"page-title-box d-sm-flex align-items-center justify-content-between\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"mb-sm-0 font-size-18\",children:\"Add watch\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"watch_image\",className:\"col-md-2 col-form-label\",children:\"watch_image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",id:\"watch_image\",name:\"watch_image\",onChange:handleFileChange})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})})})})})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"script\",{children:\"document.write(new Date().getFullYear())\"}),\" \\xA9 React Dashboard.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm-end d-none d-sm-block\",children:\"Design & Develop by Sarfas\"})})]})})})]});};export default AddWatchImage;","map":{"version":3,"names":["React","useState","axios","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","AddWatchImage","id","thumbnail","setThumbnail","handleFileChange","event","target","files","navigate","swal","require","handleSubmit","preventDefault","formData","FormData","append","fetch","method","body","then","response","concat","fire","title","icon","toast","timer","position","timerProgressBar","showConfirmButton","catch","error","className","children","onSubmit","htmlFor","type","name","onChange"],"sources":["D:/REACT/react-django-jwt/frontend/src/datapage/AddWatchImage.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate,useParams } from 'react-router-dom';\r\n\r\nconst AddWatchImage = () => {\r\n    const { id } = useParams();\r\n    const [thumbnail, setThumbnail] = useState(null);\r\n\r\n    const handleFileChange = (event) => {\r\n        setThumbnail(event.target.files[0]);\r\n    };\r\n    const navigate = useNavigate();\r\n    const swal = require('sweetalert2')\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        \r\n        const formData = new FormData();\r\n        formData.append('watch_name', id); \r\n        formData.append('watch_image', thumbnail);\r\n\r\n        fetch('https://timesculpt.pythonanywhere.com/dashboard/watch/image/create/', {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n        .then(response => {\r\n            navigate(`/watch/detail/${id}`);\r\n            swal.fire({\r\n              title: \"Watch Image Added\",\r\n              icon: \"success\",\r\n              toast: true,\r\n              timer: 6000,\r\n              position: 'top-right',\r\n              timerProgressBar: true,\r\n              showConfirmButton: false\r\n          })\r\n        })\r\n        .catch(error => {\r\n            // Handle error\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"main-content\">\r\n\r\n        <div className=\"page-content\">\r\n            <div className=\"container-fluid\">\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"page-title-box d-sm-flex align-items-center justify-content-between\">\r\n                            <h4 className=\"mb-sm-0 font-size-18\">Add watch</h4>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n        <div className=\"row\">\r\n            <div className=\"col-12\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        <form onSubmit={handleSubmit}>\r\n\r\n                            <div className=\"mb-3 row\">\r\n                                <label htmlFor=\"watch_image\" className=\"col-md-2 col-form-label\">watch_image</label>\r\n                                <div className=\"col-md-6\">\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        className=\"form-control\"\r\n                                        id=\"watch_image\"\r\n                                        name=\"watch_image\"\r\n                                        onChange={handleFileChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n                    </div> \r\n                </div>\r\n\r\n                \r\n                <footer className=\"footer\">\r\n                    <div className=\"container-fluid\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-sm-6\">\r\n                                <script>document.write(new Date().getFullYear())</script> Â© React Dashboard.\r\n                            </div>\r\n                            <div className=\"col-sm-6\">\r\n                                <div className=\"text-sm-end d-none d-sm-block\">\r\n                                    Design & Develop by Sarfas\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </footer>\r\n            </div>\r\n\r\n    );\r\n};\r\n\r\nexport default AddWatchImage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}